(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[0],{10:function(e,t,a){e.exports=a(19)},15:function(e,t,a){},16:function(e,t,a){},19:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),i=a(8),l=a.n(i),o=(a(15),a(2)),c=a(3),s=a(4),m=a(1),u=a(6),v=a(5),g="https://api.themoviedb.org/3/",d="f0218cb368232fc7b7ce7c10c724a25b",p=(a(16),a(17),a(9)),h=function(e){Object(u.a)(a,e);var t=Object(v.a)(a);function a(){return Object(c.a)(this,a),t.apply(this,arguments)}return Object(s.a)(a,[{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement("nav",{className:"navbar navbar-expand-lg navbar-dark bg-dark fixed-top"},r.a.createElement("div",{className:"container"},r.a.createElement("a",{className:"navbar-brand",href:"/"},r.a.createElement("img",{className:"header-logo",src:"../logo.svg"})),r.a.createElement("button",{className:"navbar-toggler",type:"button","data-toggle":"collapse","data-target":"/navbarResponsive","aria-controls":"navbarResponsive","aria-expanded":"false","aria-label":"Toggle navigation"},r.a.createElement("span",{className:"navbar-toggler-icon"})))))}}]),a}(n.Component),f=function(e){Object(u.a)(a,e);var t=Object(v.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).mapGenereToName=function(e){return n.state.genreList.filter((function(t,a){return t.id===e}))},n.handleContainerOnBottom=function(){n.state.filter_rating||n.filterMov(n.state.selected_genre,n.state.page)},n.state={error:null,isLoaded:!1,movieList:[],genreList:[],selected_genre:"",genreArr:[],page:1,clonemovieList:[],filter_rating:!1,current_rate:""},n.handleChange=n.handleChange.bind(Object(m.a)(n)),n.handleClick=n.handleClick.bind(Object(m.a)(n)),n.filterByRating=n.filterByRating.bind(Object(m.a)(n)),n}return Object(s.a)(a,[{key:"componentDidMount",value:function(){var e=this;fetch("https://api.themoviedb.org/3/genre/movie/list?api_key=f0218cb368232fc7b7ce7c10c724a25b").then((function(e){return e.json()})).then((function(t){e.setState({isLoaded:!0,genreList:t.genres},(function(){})),e.filterMov(e.state.selected_genre,1)}),(function(t){e.setState({isLoaded:!0,error:t})}))}},{key:"handleChange",value:function(e){var t=this;this.setState({selected_genre:e.target.value});var a=e.target.value;this.setState({page:1,movieList:[]},(function(){t.filterMov(a,1)}))}},{key:"handleClick",value:function(e){var t=this,a=e.target,n=[];if(this.setState({current_rate:"",filter_rating:!1,clonemovieList:[]}),a.checked)a.removeAttribute("checked"),a.parentNode.style.textDecoration="",console.log("check",a.value),this.state.genreArr.includes(a.value)||(n.push(a.value),this.setState({movieList:[],genreArr:[].concat(Object(o.a)(this.state.genreArr),Object(o.a)(n))},(function(){var e=t.state.genreArr.toString();t.setState({selected_genre:e}),t.filterMov(e,1)})));else{a.setAttribute("checked",!0),a.parentNode.style.textDecoration="line-through";var r=(n=Object(o.a)(this.state.genreArr)).indexOf(e.target.value);if(-1!==r){n.splice(r,1);var i=n.toString();this.setState({selected_genre:i,movieList:[],genreArr:n},(function(){t.filterMov(i,1)}))}}}},{key:"filterMov",value:function(e){var t=this,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=g+"discover/movie?api_key="+d+"&sort_by=popularity.desc&with_genres="+e+"&page="+a;fetch(n).then((function(e){return e.json()})).then((function(e){t.setState({isLoaded:!0,movieList:[].concat(Object(o.a)(t.state.movieList),Object(o.a)(e.results)),page:t.state.page+1},(function(){}))}),(function(e){t.setState({isLoaded:!0,error:e})}))}},{key:"filterByRating",value:function(e){var t=this;if(e.target.value){var a=[];a=this.state.clonemovieList.length>0?this.state.clonemovieList.filter((function(t,a){return t.vote_average>e.target.value})):this.state.movieList.filter((function(t,a){return t.vote_average>e.target.value})),this.setState({filter_rating:!0,current_rate:e.target.value,clonemovieList:this.state.movieList,movieList:a})}else this.setState({current_rate:"",filter_rating:!1,movieList:this.state.clonemovieList},(function(){t.setState({clonemovieList:[]})}))}},{key:"render",value:function(){var e=this,t=this.state,a=t.error,n=t.isLoaded,i=t.movieList,l=t.genreList;t.clonemovieList;return a?r.a.createElement("div",null,"Error: ",a.message):n?r.a.createElement("main",{className:"main-wrapper"},r.a.createElement(h,null),r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-lg-3"},r.a.createElement("h4",{className:"my-4"},"Popularity"),r.a.createElement("div",{className:"select-style"},r.a.createElement("select",{className:"dropdown-list"},r.a.createElement("option",null,"Popularity"))),r.a.createElement("h4",{className:"my-4"},"Generes Search"),r.a.createElement("div",{className:"list-group"},r.a.createElement("ul",{className:"list-unstyled checkbox-list"},l.map((function(t,a){return r.a.createElement("li",{key:a},r.a.createElement("input",{type:"checkbox",value:t.id,onClick:e.handleClick}),r.a.createElement("label",{className:"ml-2",value:t.id},t.name))})))),r.a.createElement("h4",{className:"my-4"},"Rating"),r.a.createElement("div",{className:"select-style"},r.a.createElement("select",{onChange:this.filterByRating,value:this.state.current_rate},r.a.createElement("option",{value:""},"Any Rating"),r.a.createElement("option",{value:"0"},"0+ Star Rating"),r.a.createElement("option",{value:"0.5"},"0.5+ Star Rating"),r.a.createElement("option",{value:"1"},"1+ Star Rating"),r.a.createElement("option",{value:"1.5"},"1.5+ Star Rating"),r.a.createElement("option",{value:"2"},"2+ Star Rating"),r.a.createElement("option",{value:"2.5"},"2.5+ Star Rating"),r.a.createElement("option",{value:"3"},"3+ Star Rating"),r.a.createElement("option",{value:"3.5"},"3.5+ Star Rating"),r.a.createElement("option",{value:"4"},"4+ Star Rating"),r.a.createElement("option",{value:"4.5"},"4.5+ Star Rating"),r.a.createElement("option",{value:"5"},"5+ Star Rating"),r.a.createElement("option",{value:"5.5"},"4.5+ Star Rating"),r.a.createElement("option",{value:"6"},"6+ Star Rating"),r.a.createElement("option",{value:"6.5"},"6.5+ Star Rating"),r.a.createElement("option",{value:"7"},"7+ Star Rating"),r.a.createElement("option",{value:"7.5"},"7.5+ Star Rating"),r.a.createElement("option",{value:"8"},"8+ Star Rating"),r.a.createElement("option",{value:"8.5"},"8.5+ Star Rating"),r.a.createElement("option",{value:"9"},"9+ Star Rating"),r.a.createElement("option",{value:"9.5"},"9.5+ Star Rating"),r.a.createElement("option",{value:"10"},"10 Star Rating")))),r.a.createElement("div",{className:"col-lg-9 right-part"},r.a.createElement("div",{className:"row my-3"},r.a.createElement(p.a,{onBottom:this.handleContainerOnBottom},i.map((function(t,a){return r.a.createElement("div",{key:a,className:"col-md-3"},r.a.createElement("div",{className:"card"},r.a.createElement("img",{className:"card-img-top",src:"https://image.tmdb.org/t/p/w342"+t.poster_path,alt:"Card cap"}),r.a.createElement("div",{className:"card-body pl-0 pr-0"},r.a.createElement("h6",{className:"card-title"},t.original_title," "),r.a.createElement("strong",null,"Rating : ")," ",r.a.createElement("span",null,t.vote_average),r.a.createElement("br",null),r.a.createElement("strong",null,"Generes List :"),r.a.createElement("br",null),t.genre_ids.map((function(t){return e.mapGenereToName(t).map((function(e,t,a){return r.a.createElement(r.a.Fragment,null,r.a.createElement("span",null,e.name,","))}))})))))})))))))):r.a.createElement("div",null,"Loading...")}}]),a}(r.a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(f,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[10,1,2]]]);
//# sourceMappingURL=main.56bc2c29.chunk.js.map